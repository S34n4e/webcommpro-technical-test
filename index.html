<html ng-app="main" ng-controller="controller">
    
    <head>
       <!–– ––>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
        
        <link rel="stylesheet" href="style.css">
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
        
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular.min.js"></script>
        
        <script src="script.js"></script>
        <title>Technical Test</title>
    </head>
    <body ng-controller="controller" ng-init="displayData()">
        <container class="container">
        <div class="well">
        <h1 class="text-center">webcomm pro technical test</h1>
        <h2>Data</h2>
        
         <div class="btn-group">
          <button type="button" class="btn btn-primary" data-toggle="collapse" data-target="#filteruser">User</button>
          <button type="button" class="btn btn-primary" data-toggle="collapse" data-target="#filterteam">Team</button>
          <button type="button" class="btn btn-primary" data-toggle="collapse" data-target="#filterhours">Hours</button>
        </div> 
        
        <div id="filteruser" class="collapse">
        <span class="input-group-addon"><i class="glyphicon glyphicon-filter"></i></span>
        <input ng-model="searchText.name" class="form-control" placeholder="Filter by user" />
        </div>
        
        
        <div id="filterteam" class="collapse">
        <span class="input-group-addon"><i class="glyphicon glyphicon-filter"></i></span>
        <input ng-model="searchText.team_name" class="form-control" placeholder="Filter by team" />
        </div>
        
        <div id="filterhours" class="collapse">
        <span class="input-group-addon"><i class="glyphicon glyphicon-filter"></i></span>
        <input ng-model="searchText.hours_played" class="form-control" placeholder="Filter by hours" />
        </div>
        
        
        <div class="well">
        <table st-table="dataSample" class="table table-striped table-hover">
	    <thead class="thread">
	      <tr class="bg-primary">
            <th class="cursor-pointer" ng-click="sortData('name')">
             User
                <span class="glyphicon glyphicon-sort"></span>
             </th>
		     <th>Team</th>
             <th class="cursor-pointer" ng-click="sortData('hours_played')" >        
             Hours
             <span class="glyphicon glyphicon-sort"></span>
             </th>
             <th>Details</th>
      	</tr>
    	</thead>
    	<tbody>
      	<tr ng-repeat="x in dataSample | orderBy:sortColumn:reverseSort | filter:searchText">
      		<th>{{x.name}}</th>
            <th>{{x.team_name}}</th>
            <th>{{x.hours_played}}</th>
            <th>
                <button type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#myModal" ng-click="displayAllData(x.idUser);" >
                <span class="glyphicon glyphicon-stats"></span> MORE
                </button>
              </th>
       	</tr>
	    </tbody>
        </table>
        </div>
    
    <!-- Modal content-->
    <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Details</h4>
        </div>
        <div class="modal-body">
          <table st-table="idUser" class="table table-striped table-hover">
	    <thead>
	      <tr>
             <th>User</th>
		     <th>Game</th>
		     <th>Category</th>
             <th>Hours</th>
      	</tr>
    	</thead>
    	<tbody>
      	<tr ng-repeat="x in idUser">
            <th>{{x.un}}</th>
      		<th>{{x.gn}}</th>
            <th>{{x.main_category}}</th>
            <th>{{x.hours_played}}</th>
       	</tr>
	    </tbody>
    </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>
    </div>
    </container>
    </body>
</html>